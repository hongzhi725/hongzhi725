<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
		<meta name="keywords" content="蓝月亮,IT部,市场部,双11,嗨翻全场,游戏" />
		<meta name="description" content="蓝月亮·双11游戏" />
		<title>快来抓我呀！</title>
		<meta name="x5-fullscreen" content="true">
		<meta name="full-screen" content="yes">
		<link rel="stylesheet" type="text/css" href="css/main.min.css" />
		<script>
			var _hmt = _hmt || [];
			(function() {
				var hm = document.createElement("script");
				hm.src = "https://hm.baidu.com/hm.js?e07a9baba504fa1d33eb154f5b2b2887";
				var s = document.getElementsByTagName("script")[0];
				s.parentNode.insertBefore(hm, s);
			})();
		</script>

		<style type="text/css">
			.box {
				position: absolute;
				width: 62.18905472636816vh;
				height: 100vh;
				top: 0%;
				left: calc(50vw - 31.0945vh);
				background: pink;
			}
		</style>
	</head>
	<body ontouchstart>
		<div class="box" id="mainbox">
			<div id="loading">
				<div class="loader"></div>
				<span id="loading-num"></span>
			</div>
			<div class="game_box"></div>
			<audio loop id="music">
				<source src="audios/bg.mp3" type="audio/mpeg"></source>
			</audio>
			<audio id="music2">
				<source src="audios/end.mp3" type="audio/mpeg"></source>
			</audio>
			<audio id="music3">
				<source src="audios/touch.mp3" type="audio/mpeg"></source>
			</audio>
		</div>
		<script src="js/jquery-3.1.0.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="https://cdn.bootcss.com/PreloadJS/0.6.0/preloadjs.min.js"></script>
		<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
		<script src="js/main.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			(function(doc, win) {
				var docEl = doc.documentElement,
					resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
					recalc = function() {
						var box = document.getElementById('mainbox');
						var clientWidth = docEl.clientWidth;
						var clientHeight = docEl.clientHeight;
						var boxWidth = box.clientWidth;
						var boxHeight = box.clientHeight;
						console.log("【设备】宽：" + clientWidth + "，" + "高：" + clientHeight);
						console.log("【Box】：" + boxWidth + "，" + "高：" + boxHeight);
						if(clientWidth < 375) {
							box.style.width = '100vw';
							box.style.left = '0';
							console.log("【Box调整1】宽：" + box.clientWidth + "，" + "高：" + box.clientHeight);
						} else {
							box.style.width = '62.18905472636816vh';
							box.style.left = 'calc(50vw - 31.09452736318408vh)';
						}
						var newboxwidth1 = box.clientWidth;
						if(newboxwidth1 > clientWidth) {
							box.style.width = '100vw';
							box.style.left = '0';
							console.log("【Box调整2】宽：" + box.clientWidth + "，" + "高：" + box.clientHeight);
						} else {
							console.log('【注意】box宽度适合')
						}
						var newboxwidth2 = box.clientWidth;
						if(box.clientWidth <= 375) {
							docEl.style.fontSize = parseInt(12 * (newboxwidth2 / 375)) + 'px';
						}
						console.log("【font-size调整】结果：" + docEl.style.fontSize);
					};
				if(!doc.addEventListener) return;
				win.addEventListener(resizeEvt, recalc, false);
				doc.addEventListener('DOMContentLoaded', recalc, false);
			})(document, window);

//			function parseUA() {
//				var u = navigator.userAgent;
//				var u2 = navigator.userAgent.toLowerCase();
//				return { //移动终端浏览器版本信息
//					trident: u.indexOf('Trident') > -1, //IE内核
//					presto: u.indexOf('Presto') > -1, //opera内核
//					webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
//					gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
//					mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
//					ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
//					android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或uc浏览器
//					iPhone: u.indexOf('iPhone') > -1, //是否为iPhone或者QQHD浏览器
//					iPad: u.indexOf('iPad') > -1, //是否iPad
//					webApp: u.indexOf('Safari') == -1, //是否web应该程序，没有头部与底部
//					iosv: u.substr(u.indexOf('iPhone OS') + 9, 3),
//					weixin: u2.match(/MicroMessenger/i) == "micromessenger",
//					ali: u.indexOf('AliApp') > -1,
//				};
//			}
//			var ua = parseUA();
//			console.log(ua.mobile);
//			if(!ua.mobile) {
//				location.href = './pc.html';
//			}
		</script>
	</body>
</html>