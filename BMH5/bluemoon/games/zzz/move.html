<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<style type="text/css">
			body,
			html {
				position: relative;
				width: 100%;
				height: 100%;
				background: pink;
				margin: 0;
			}
			
			#box1 {
				width: 100px;
				height: 100px;
				background: black;
				/*transform:translate(20px,10px); -webkit-transform:translate(20px,10px);]*/
				position: absolute;
				top: 0%;
				left: 0%;
				/*-webkit-transform: translate3d(100px,100px,0px);
				-webkit-transition: -webkit-transform 500ms ease-in-out;*/
				/*animation-fill-mode: forwards;*/
			}
			
			#box2 {
				width: 100px;
				height: 100px;
				background: green;
				position: absolute;
				top: 80%;
				left: 50%;
				/*animation-fill-mode: forwards;*/
			}
			
			.box {
				width: 90%;
				height: 90%;
				background: yellow;
				position: relative;
				/*top: 5%;*/
				left: 5%;
				-webkit-transform:translate(1,2);
				transition: ;
			}
			
			.abc {
				position: absolute;
				top: 50%;
				left: 50%;
				z-index: 99;
			}
			
			.abcd {
				position: absolute;
				top: 60%;
				left: 50%;
				z-index: 99;
			}
			
			.abcde {
				position: absolute;
				top: 70%;
				left: 50%;
				z-index: 99;
			}
			
			.abcdef {
				position: absolute;
				top: 80%;
				left: 50%;
				z-index: 99;
			}
		</style>
	</head>
	<body>
		<button id="test">测试</button>
		<button id="test2">测试2</button>
		<button id="test3">测试3</button>
		<p id="word1" class="abc"></p>
		<p id="word2" class="abcd"></p>
		<p id="word3" class="abcde"></p>
		<p id="word4" class="abcdef"></p>
		<div class="box">
			<div id="box1"></div>
			<div id="box2"></div>
		</div>

		<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
		<script type="text/javascript">
			//			var jxzz_1 ='{"x":"John" }';
			//			jxzz_1 = JSON.parse(jxzz_1);
			//			console.log(jxzz_1.x);
			//			getin(jxzz_1);
			//			function getin(a){
			//				console.log(a.x);
			//			}
			// var box1 = document.getElementById('box1'); 
			// var box2 = document.getElementById('box2');
			var box1 = $('#box1');
			var box2 = $('#box2');
			var dx = new Array(box1, box2);
			document.getElementById('test').addEventListener("click", function() {
				//				move3d(box1, box2, 500);
//				rdmove(dx, 1, 500);
				alert(box1.css('top'))
			})
			document.getElementById('test2').addEventListener("click", function() {
				inf()
			})
			document.getElementById('test3').addEventListener("click", function() {
				inf3()
			})

			function inf() {
				//				console.log(box2.offsetTop);
				//				console.log($('#box1').css('top'));
				// $('#box2').Style() 
				var left = $('#box1').offset().left;
				console.log(left);
				$('#box1').css("-webkit-transform", "translate3d(20px,10px,0px)");
				$('#box1').css("-moz-transform", "translate3d(20px,10px,0px)");
				$('#box1').css("-ms-transform", "translate3d(20px,10px,0px)");
				$('#box1').css("transform", "translate3d(20px,10px,0px)");
				$('#box1').css("-webkit-transition", "-webkit-transform 500ms ease");
				$('#box1').css("-moz-transition", "-moz-transform 500ms ease");
				$('#box1').css("transition", "transform 500ms ease");
			}

			function inf3() {
				//				console.log(box2.offsetTop);
				//				console.log($('#box1').css('top'));
				// $('#box2').Style() 
				//				$('#box1').css("-webkit-transform", "translate3d(20px,0px,0px)");
				//				$('#box1').css("transition", "-webkit-transform 500ms" + " ease-in-out");
				var left1 = $('#box1').offset().left;
				var left2 = $('#box1').css('left');
				var left3 = $('#box1').position().left;
				document.getElementById('word1').innerText = left1;
				document.getElementById('word2').innerText = left2;
				document.getElementById('word3').innerText = left3;
				console.log('距离窗口的left：' + left1);
				console.log('元素left：' + left2);
				console.log('position：' + left3 + ',' + $('#box1').position().top);
			}

			function inf2() {
				var b = document.getElementById('box2');
				console.log(box2.offsetTop);
				console.log($('#box2').css('top'));
				// $('#box2').Style() 
				b.style.transition = "-webkit-transform 500ms" + " ease-in-out";
				b.style.webkitTransform = "translate(0px,-100px)";
			}

			function move(a, b, delay) {
				var a_top, a_left;
				var b_top, b_left;
				a_top = parseInt(a.css('top'));
				a_left = parseInt(a.css('left'));
				b_top = parseInt(b.css('top'));
				b_left = parseInt(b.css('left'));
				console.log('First:' + a_left + ',' + a_top);
				console.log('Second:' + b_left + ',' + b_top);
				console.log((b_left - a_left));
				a.css("-webkit-transform", "translate(" + (b_left - a_left) + "px," + (b_top - a_top) + "px)");
				a.css("-moz-transform", "translate(" + (b_left - a_left) + "px," + (b_top - a_top) + "px)");
				a.css("-ms-transform", "translate(" + (b_left - a_left) + "px," + (b_top - a_top) + "px)");
				a.css("transform", "translate(" + (b_left - a_left) + "px," + (b_top - a_top) + "px)");
				a.css("transition", "-webkit-transform " + delay + "ms ease-in-out");
				a.one('webkitTransitionEnd transitionend', function() {
					a.css("-webkit-transform", "translate(" + 0 + "px," + 0 + "px)");
					a.css("transition", "-webkit-transform 0ms ease-in-out");
					//					a.css("-moz-transform", "translate(" + (b_left - a_left) + "px," + (b_top - a_top) + "px)");
					//					a.css("-ms-transform", "translate(" + (b_left - a_left) + "px," + (b_top - a_top) + "px)");
					//					a.css("transform", "translate(" + (b_left - a_left) + "px," + (b_top - a_top) + "px)");
					a.css('top', b_top);
					a.css('left', b_left);
				})
			}

			function move3d(obj1, obj2, delay) {
				var obj1_moveleft = obj2.offset().left - parseInt(obj1.css('left'));
				var obj1_movetop = obj2.offset().top - parseInt(obj1.css('top'));
				var obj2_moveleft = obj1.offset().left - parseInt(obj2.css('left'));
				var obj2_movetop = obj1.offset().top - parseInt(obj2.css('top'));
				obj1.css("-webkit-transform", "translate(" + obj1_moveleft + "px," + obj1_movetop + "px)");
				obj1.css("-moz-transform", "translate(" + obj1_moveleft + "px," + obj1_movetop + "px)");
				obj1.css("-ms-transform", "translate(" + obj1_moveleft + "px," + obj1_movetop + "px)");
				obj1.css("transform", "translate(" + obj1_moveleft + "px," + obj1_movetop + "px)");
				obj1.css("transition", "-webkit-transform " + delay + "ms ease-in-out");
				obj2.css("-webkit-transform", "translate(" + obj2_moveleft + "px," + obj2_movetop + "px)");
				obj2.css("-moz-transform", "translate(" + obj2_moveleft + "px," + obj2_movetop + "px)");
				obj2.css("-ms-transform", "translate(" + obj2_moveleft + "px," + obj2_movetop + "px)");
				obj2.css("transform", "translate(" + obj2_moveleft + "px," + obj2_movetop + "px)");
				obj2.css("transition", "-webkit-transform " + delay + "ms ease-in-out");
			}
			//取范围内的随机数
			function getRandomNum(min, max) {
				return Math.floor(Math.random() * (max - min + 1)) + min;
			}
			//取2个范围内的随机数
			function get2RandomNum(min, max) {
				var a, b;
				a = getRandomNum(min, max);
				b = getRandomNum(min, max);
				while(b == a) {
					b = getRandomNum(min, max);
				}
				var back = new Array(a, b);
				return back; //数组
			}

			function move3dexc(obj1, obj2, delay) {
				var left1, left2;

				left1 = parseInt(obj1.css('left')) + "," + parseInt(obj1.css('top'));
				left2 = parseInt(obj2.css('left')) + "," + parseInt(obj2.css('top'));
				
				

				var obj1_moveleft = parseInt(obj2.css('left')) - parseInt(obj1.css('left'));
				var obj1_movetop = parseInt(obj2.css('top')) - parseInt(obj1.css('top'));
				var obj2_moveleft = parseInt(obj1.css('left')) - parseInt(obj2.css('left'));
				var obj2_movetop = parseInt(obj1.css('top')) - parseInt(obj2.css('top'));
				left1= obj1_moveleft + "," + obj1_movetop;
				left2= obj2_moveleft + "," + obj2_movetop;
				document.getElementById('word1').innerText = left1;
				document.getElementById('word2').innerText = left2;
				obj1.css("-webkit-transform", "translate(" + obj1_moveleft + "px," + obj1_movetop + "px)");
				obj1.css("-moz-transform", "translate(" + obj1_moveleft + "px," + obj1_movetop + "px)");
				obj1.css("-ms-transform", "translate(" + obj1_moveleft + "px," + obj1_movetop + "px)");
				obj1.css("transform", "translate(" + obj1_moveleft + "px," + obj1_movetop + "px)");
				obj1.css("transition", "-webkit-transform " + delay + "ms ease-in-out");
				obj2.css("-webkit-transform", "translate(" + obj2_moveleft + "px," + obj2_movetop + "px)");
				obj2.css("-moz-transform", "translate(" + obj2_moveleft + "px," + obj2_movetop + "px)");
				obj2.css("-ms-transform", "translate(" + obj2_moveleft + "px," + obj2_movetop + "px)");
				obj2.css("transform", "translate(" + obj2_moveleft + "px," + obj2_movetop + "px)");
				obj2.css("transition", "-webkit-transform " + delay + "ms ease");
				obj1.one('webkitTransitionEnd transitionend', function() {
					document.getElementById('word3').innerText = left1;
				document.getElementById('word4').innerText = left2;
				})
				
			}

			function rdmove(object, time, delay) {
				//1.处理参数1，识别传入对象数组个数
				var obj = object;
				var i = object.length;
				var times = time;
				isRun = true;
				//		console.log('isRun:' + isRun);
				for(a = 0; a < times; a++) {
					setTimeout(function() {
						//						var num = get2RandomNum(1, i);
						//						var num = 1;
						//				console.log('第一个：' + num[0] + '| 第二个：' + num[1])
						move3dexc(obj[0], obj[1], delay);
					}, 0 + a * (delay + 50))
				}
				setTimeout(function() {
					isRun = false;
					//			console.log('isRun:' + isRun);
				}, times * (delay + 50))
			}
		</script>
	</body>
</html>